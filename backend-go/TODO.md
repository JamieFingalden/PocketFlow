# 后端待办事项清单

## 用户模块

### 1. 添加用户创建时间字段
**文件**: `models/user.go`
**修改内容**:
- 在User模型中添加`CreatedAt`字段，记录用户注册时间
- 更新数据库表结构，在`SQL.sql`中添加对应的`created_at`字段

**SQL修改**:
```sql
ALTER TABLE user ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP;
```

### 2. 用户认证增强
**文件**: `api/user.go`
**修改内容**:
- 添加用户登录状态检查接口
- 添加用户会话管理功能

## 账单模块

### 1. OCR接口集成
**文件**: `api/bill.go`
**修改内容**:
- 创建OCR代理接口，转发图片到Python OCR服务
- 添加OCR结果处理逻辑

### 2. 账单搜索功能
**文件**: `repository/bill.go`, `services/bill.go`
**修改内容**:
- 添加账单备注和分类的模糊搜索功能
- 支持按时间段、金额范围等条件筛选

## 统计模块

### 1. 预算管理功能
**文件**: `models/user_profile.go`
**修改内容**:
- 在用户资料中添加月度预算字段
- 添加预算设置和查询接口

### 2. 数据统计增强
**文件**: `api/statistics.go`, `services/statistics.go`
**修改内容**:
- 添加分类支出占比统计
- 添加月度收支趋势统计
- 添加年度数据汇总

## 数据库模块

### 1. 数据库表结构优化
**文件**: `SQL.sql`
**修改内容**:
- 为user表添加created_at字段
- 为bill表添加索引优化查询性能
- 考虑添加预算表用于预算管理

## API接口

### 1. 新增接口
**路径**: `/api/v1/user/created-at`
**方法**: GET
**描述**: 获取用户创建时间，用于计算记账天数

**路径**: `/api/v1/bills/search`
**方法**: GET
**描述**: 搜索账单接口，支持关键字搜索

**路径**: `/api/v1/statistics/budget`
**方法**: GET/POST
**描述**: 预算管理接口，获取和设置用户月度预算

## 安全性改进

### 1. 密码安全
**文件**: `services/user.go`
**修改内容**:
- 强化密码策略，添加密码复杂度要求
- 添加密码重置功能

### 2. 数据保护
**文件**: `middleware/jwt.go`
**修改内容**:
- 增强JWT令牌安全性
- 添加请求频率限制

## 性能优化

### 1. 查询优化
**文件**: `repository/*.go`
**修改内容**:
- 为常用查询添加数据库索引
- 优化复杂统计查询的性能

### 2. 缓存机制
**文件**: `services/*.go`
**修改内容**:
- 为频繁访问的数据添加缓存机制
- 使用Redis或其他缓存方案

---
**备注**: 此清单将随着开发进展持续更新，完成后会在相应项前标记✅